<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="./style.css" />
        <script type="text/javascript" src="./js/Winwheel.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>چرخونه شانس</title>
    </head>
    <body>
        <!-- spinWheel bg -->
        <div class="bgPic-container">
            <img src="./Assets/images/image.png" alt="bg" class="bgPic" />
        </div>
        <!-- spinWheel -->
        <div class="spinWheel">
            <canvas id="canvas" width="400" height="400">
                <p align="center">
                    Sorry, your browser doesn't support canvas. Please try
                    another.
                </p>
            </canvas>
        </div>
        <!-- spin Btn -->
        <div class="spinButton">
            <button id="spin_button" onClick="startSpin();">
                <img src="./Assets/images/logo.png" alt="logo" />
            </button>
        </div>
        <!-- <div class="spinButton">
            <button id="spin_button" onClick="startSpin();">بِچَرخ</button>
        </div> -->

        <!-- modal -->
        <div class="modal">
            <div class="content">
                <h1 class="prizeTitle"></h1>
                <h1 class="prizePoint"></h1>
                <h1 class="totalPoint"></h1>
            </div>
            <div class="modalButtons">
                <button class="tryAgainButton" onClick="tryAgain();"></button>
            </div>
        </div>
        <!-- images -->
        <div class="images">
            <div>
                <img class="img2" src="./Assets/images/5.png" alt="behnoush" />
                <img class="img1" src="./Assets/images/2.png" alt="behnoush" />
            </div>
            <div>
                <img class="img4" src="./Assets/images/6.png" alt="behnoush" />
                <img class="img3" src="./Assets/images/10.png" alt="behnoush" />
            </div>
        </div>

        <!-- script -->
        <script src="./js/spinWheel.js"></script>

        <!-- Include Three.js -->
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script> -->
        <!-- Include OrbitControls -->
        <!-- <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script> -->
        <!-- Include fflate.min.js -->
        <!-- <script src="https://unpkg.com/fflate@0.8.2"></script> -->
        <!-- <script src="https://cdn.jsdelivr.net/npm/fflate@0.8.2/umd/index.js"></script> -->
        <!-- Include FBXLoader -->
        <!-- <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script> -->
        <!-- <script>
            // Basic setup
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(
                75,
                150 / 150,
                0.1,
                1000
            );
            const renderer = new THREE.WebGLRenderer({ alpha: true });
            renderer.setSize(500, 500);
            renderer.domElement.id = "threeCanvas";
            document.body.appendChild(renderer.domElement);

            // OrbitControls for better interaction
            const controls = new THREE.OrbitControls(
                camera,
                renderer.domElement
            );
            controls.enableDamping = true;
            controls.dampingFactor = 0.25;
            controls.screenSpacePanning = false;
            controls.maxPolarAngle = Math.PI / 2;
            controls.enableZoom = false;

            // Hemisphere Light
            const hemiLight = new THREE.HemisphereLight(0xffffff, 0x000000, 1); // Sky color, ground color, intensity
            scene.add(hemiLight);

            // Load GLB model
            const loader = new THREE.GLTFLoader();
            loader.load(
                "./3dObject/DelesterCan.glb",
                function (gltf) {
                    // Apply textures to meshes
                    const textureLoader = new THREE.TextureLoader();
                    const texture1 = textureLoader.load(
                        "./3dObject/DelesterCan01_Material_Albedo.png"
                    );
                    const texture2 = textureLoader.load(
                        "./3dObject/DelesterCan01_Metal_subst_AO.png"
                    );

                    gltf.scene.traverse(function (child) {
                        if (child.isMesh) {
                            console.log("Mesh name:", child.name); // Debugging statement to log mesh names

                            if (child.name === "Can_geo_Coke_logo_subst_0") {
                                // Create a material for mesh1
                                const material1 = new THREE.MeshBasicMaterial({
                                    map: texture1,
                                });

                                // Apply the material to mesh1
                                child.material = material1;
                            } else if (child.name === "Can_geo_Metal_subst_0") {
                                // Create a material for mesh2
                                const material2 = new THREE.MeshBasicMaterial({
                                    map: texture2,
                                });

                                // Apply the material to mesh2
                                child.material = material2;
                            }

                            // You can apply other material properties as needed
                            child.material.side = THREE.DoubleSide; // Set material to double-sided
                            child.material.needsUpdate = true; // Update material
                        }
                    });
                    // gltf.scene.position.set(0, 0, 0); // Set the desired position here

                    // Ensure the entire object is added to the scene
                    scene.add(gltf.scene);
                },
                undefined,
                function (error) {
                    console.error(
                        "An error occurred loading the GLB model:",
                        error
                    );
                }
            );

            // Camera position
            camera.position.set(0, 0.2, 0.5);
            controls.update();

            // Animation loop
            function animate() {
                requestAnimationFrame(animate);
                controls.update();
                // Rotate the object around itself slowly
                scene.traverse(function (child) {
                    if (child.isMesh) {
                        child.rotation.y += 0.01; // Adjust the rotation speed as needed
                    }
                });
                renderer.render(scene, camera);
            }
            animate();

            // Handle window resize
            window.addEventListener(
                "resize",
                function () {
                    camera.aspect = 150 / 150;
                    camera.updateProjectionMatrix();
                    renderer.setSize(150, 150);
                },
                false
            );
        </script> -->
    </body>
</html>
